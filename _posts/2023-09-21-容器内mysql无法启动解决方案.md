---
layout: post
read_time: true
show_date: true
show_author: true
title: "å®¹å™¨å†…mysqlæ— æ³•å¯åŠ¨è§£å†³æ–¹æ¡ˆ"
date: 2023-09-21
tags: [è§£å†³æ–¹æ¡ˆ, mysql, å®¹å™¨]
category: question
author: tugraph
description: "å®¹å™¨å†…mysqlæ— æ³•å¯åŠ¨è§£å†³æ–¹æ¡ˆ"
---

å®¹å™¨å†…æ— æ³•å¯åŠ¨mysqlï¼Œå¯¼è‡´consoleæ— æ³•å¯åŠ¨ã€‚å¯ä»¥é€šè¿‡è®¿é—®å®¿ä¸»æœºçš„mysqlç»•è¿‡å®¹å™¨å†…å¯åŠ¨mysqlçš„é—®é¢˜ã€‚

æ“ä½œæ­¥éª¤å¦‚ä¸‹:

æ¸…ç©ºgeaflow-consoleçš„å®¹å™¨ï¼Œå…³é—­å®¿ä¸»æœºMySQLä»¥æ¢å¤åˆ°åˆå§‹çŠ¶æ€ã€‚

```console
# æŸ¥çœ‹å®¹å™¨id
docker ps -a
# åˆ é™¤å®¹å™¨
docker rm [container-id]
# æŸ¥æ‰¾mysqlç›¸å…³è¿›ç¨‹å·
ps -ef | grep mysql
# ç»“æŸMySQLè¿›ç¨‹
kill [pid]
```

ç¬¬ä¸€æ­¥ï¼šå¯åŠ¨geaflow-consoleå®¹å™¨
```console
docker run -d --net=host --name geaflow-console -p 8080:8080 -p 8888:8888 -p 6379:6379 -p 8086:8086 -e geaflow.host=${your.host.name} -e geaflow.web.gateway.url=http://${your.public.ip}:8080 geaflow-console:0.1
```
æ³¨ï¼šåŠ ä¸Š--net=hostå‚æ•°ä½¿å¾—å®¹å™¨å’Œå®¿ä¸»æœºäº’é€šï¼Œå»æ‰-p 3306:3306æ˜ å°„ä»¥ä¾¿è®¿é—®å®¿ä¸»æœºMySQL 

ç¬¬äºŒæ­¥ï¼šå¦‚æœ‰ï¼Œå…³é—­geaflow-consoleå®¹å™¨å†…çš„MySQL
```console
# æŸ¥çœ‹å®¹å™¨id
docker ps -a
# ä»å®¿ä¸»æœºè¿›å…¥å®¹å™¨
docker exec -it [container-id] bash
# æŸ¥æ‰¾mysqlç›¸å…³è¿›ç¨‹å·
ps -ef | grep mysql
# ç»“æŸMySQLè¿›ç¨‹
kill [pid]
```

ç¬¬ä¸‰æ­¥ï¼šåœ¨å®¿ä¸»æœºå¯åŠ¨MySQL
```console
# ä»å®¹å™¨é€€å‡ºåˆ°å®¿ä¸»æœº
exit
# å¦‚æœæ²¡æœ‰å®‰è£…mysqlï¼Œåˆ™å®‰è£…mysql
rpm -Uvh https://dev.mysql.com/get/mysql80-community-release-el7-7.noarch.rpm
rpm --import https://repo.mysql.com/RPM-GPG-KEY-mysql-2022
yum -y install mysql-community-server
mysqld --initialize-insecure --user=mysql
# å¯åŠ¨mysql
nohup mysqld --user=mysql &>> /var/lib/mysql/mysqld.log &
```

ç¬¬å››æ­¥ï¼šåœ¨å®¿ä¸»æœºMySQLå»ºç«‹geaflowæ•°æ®åº“ï¼Œæˆæƒ
```console
# æ‰“å¼€mysql shell
mysql
# å»ºç«‹geaflowæ•°æ®åº“
create database geaflow;
# æˆæƒ
CREATE USER IF NOT EXISTS geaflow IDENTIFIED BY 'geaflow';
GRANT ALL ON *.* TO 'geaflow'@'%';
FLUSH PRIVILEGES;
```

ç¬¬äº”æ­¥ï¼šå›åˆ°consoleå®¹å™¨å†…ï¼Œé‡å¯geaflow-console javaè¿›ç¨‹
```console
# æŸ¥çœ‹å®¹å™¨id
docker ps -a
# ä»å®¿ä¸»æœºè¿›å…¥å®¹å™¨
docker exec -it [container-id] bash
# æ£€æŸ¥å®¹å™¨å†…è¿æ¥å®¿ä¸»æœºMySQLæ˜¯å¦æˆåŠŸ
curl http://${your.host.name}:3306
```
è¿æ¥å®¿ä¸»æœºMySQLæˆåŠŸå¦‚å›¾ï¼š
![image.png](../../../../assets/images/posts/20230921/tu0.png)

```console
# æŸ¥æ‰¾geaflow-console javaè¿›ç¨‹å·
ps -ef |grep java
# ç»“æŸgeaflow-console javaè¿›ç¨‹
kill [pid]
# é‡å¯geaflow-console javaè¿›ç¨‹
java -Xmx4096m -cp /opt/geaflow/boot/geaflow-console-bootstrap.jar:/opt/geaflow/config org.springframework.boot.loader.JarLauncher
```

ç»“æœï¼šè®¿é—®consoleç«¯å£ï¼ŒæŸ¥çœ‹consoleç•Œé¢æ˜¯å¦å¯åŠ¨
è¿›å…¥å®¹å™¨ç­‰å¾…geaflow-webè¿›ç¨‹å¯åŠ¨å®Œæˆåï¼Œè®¿é—® ${your.public.ip}:8888 è¿›å…¥GeaFlow Consoleå¹³å°é¡µé¢ã€‚

------------------------

GeaFlow(å“ç‰ŒåTuGraph-Analytics) å·²æ­£å¼å¼€æºï¼Œæ¬¢è¿å¤§å®¶å…³æ³¨ï¼ï¼ï¼

æ¬¢è¿ç»™æˆ‘ä»¬ Star å“¦!

Welcome to give us a Star!

GitHubğŸ‘‰[https://github.com/TuGraph-family/tugraph-analytics](https://github.com/TuGraph-family/tugraph-analytics)

## å¾®ä¿¡ç¾¤
![image](../../../../assets/images/wechat.png)

è¯·ç‚¹å‡»é¡¹ç›®é“¾æ¥ä¸‹æ–¹å¾®ä¿¡äºŒç»´ç æ·»åŠ å¾®ä¿¡ç”¨æˆ·ç¾¤ï¼š[https://github.com/TuGraph-family/tugraph-analytics](https://github.com/TuGraph-family/tugraph-analytics)
